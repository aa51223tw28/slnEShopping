
@{
    ViewBag.Title = "ProductList";
    Layout = "~/Views/Shared/_LayoutSellerMain.cshtml";
}
<div class="col-8 col-md-9 col-lg-9 col-xl-10 container bg-warning rounded-2 border border-info border-1 ">
    <p class="fs-4 mt-3 fw-bold text-center text-primary">新增商品</p>
    <hr>
    <div class="row container">
        <div class="col-sm-6 col-xl-6">
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>主分類：</span>
                </div>
                <div class="col-4">
                    <select id="maincategories" class="form-select">
                        
                    </select>
                </div>
                <div class="col-4">
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center" >
                    <span>小分類：</span>
                </div>
                <div class="col-4">
                    <select id="subcategories" class="form-select">
                        
                    </select>
                </div>
                <div class="col-4">
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>尺寸：</span>
                </div>
                <div class="col-4">
                    <select class="form-select">
                        <option value="option1">13吋(含以下)</option>
                        <option value="option2">14吋</option>
                        <option value="option3">15吋</option>
                        <option value="option3">16吋</option>
                        <option value="option3">17吋(含以上)</option>
                    </select>
                </div>
                <div class="col-4">
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>處理器類型：</span>
                </div>
                <div class="col-4">
                    <select class="form-select">
                        <option value="option1">Intel-i3</option>
                        <option value="option2">Intel-i5</option>
                        <option value="option3">Intel-i7</option>
                        <option value="option3">Intel-i9</option>
                        <option value="option3">AMD R5</option>
                        <option value="option3">AMD R7</option>
                        <option value="option3">AMD R9</option>
                    </select>
                </div>
                <div class="col-4">
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>重量：</span>
                </div>
                <div class="col-4">
                    <select class="form-select">
                        <option value="option1">1.3KG以下</option>
                        <option value="option2">1.3-1.8KG</option>
                        <option value="option3">1.8-2.5KG</option>
                        <option value="option3">2.5-3.0KG</option>
                        <option value="option3">3.0KG以上</option>
                    </select>
                </div>
                <div class="col-4">
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>儲存容量：</span>
                </div>
                <div class="col-4">
                    <select class="form-select">
                        <option value="option1">256GB</option>
                        <option value="option2">512GB</option>
                        <option value="option3">1T</option>
                        <option value="option3">2T</option>
                        <option value="option3">3T</option>
                    </select>
                </div>
                <div class="col-4">
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>記憶體大小：</span>
                </div>
                <div class="col-4">
                    <select class="form-select">
                        <option value="option1">8GB</option>
                        <option value="option2">16GB</option>
                        <option value="option3">32GB</option>
                        <option value="option3">64GB</option>
                        <option value="option3">128G</option>
                    </select>
                </div>
                <div class="col-4">
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>品牌：</span>
                </div>
                <div class="col-4">
                    <select class="form-select">
                        <option value="option1">DELL</option>
                        <option value="option2">ASUS</option>
                        <option value="option3">MSI</option>
                        <option value="option3">LG</option>
                        <option value="option3">HP</option>
                    </select>
                </div>
                <div class="col-4">
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>商品名稱：</span>
                </div>
                <div class="col-4">
                    <input type="text">
                </div>
                <div class="col-4"></div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>商品描述：</span>
                </div>
                <div class="col-4">
                    <textarea></textarea>
                </div>
                <div class="col-4"></div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>單價：</span>
                </div>
                <div class="col-4">
                    <input type="text">
                </div>
                <div class="col-4"></div>
            </div>
            <div class="row mb-2">
                <div class="col-4 d-flex align-items-center">
                    <span>數量：</span>
                </div>
                <div class="col-4">
                    <input type="text">
                </div>
                <div class="col-4"></div>
            </div>
        </div>
    </div>
    <div class="d-flex col-sm-6 col-xl-6 ">
        <div class="d-flex flex-column align-items-start  ms-2">
            <img src="" alt="" class="img-fluid align-items-start">
            <div class="btn btn-secondary mt-2">選擇圖片</div>
        </div>
        <div class="d-flex flex-column align-items-start  ms-2 ">
            <img src="" alt="" class="img-fluid align-items-start">
            <div class="btn btn-secondary mt-2">選擇圖片</div>
        </div>
        <div class="d-flex flex-column align-items-start  ms-2 ">
            <img src="" alt="" class="img-fluid align-items-start">
            <div class="btn btn-secondary mt-2">選擇圖片</div>
        </div>
    </div>
    <div class="container">
        <div class="btn btn-secondary mt-2 align-items-center">儲存</div>
    </div>
</div>
@section Scripts
    {
    <script>
            const selmaincategories = document.querySelector('#maincategories');
            const selsubcategories = document.querySelector('#subcategories');

            function LoadMainCategories()
            {
                const xhr = new XMLHttpRequest();
                xhr.open('GET', '@Url.Content("~/SellerProductCreate/getCategoryName")');
                xhr.send();

                xhr.addEventListener('load', () => {
                    const datas = JSON.parse(xhr.responseText);
                    var categories = datas.map(category => {
                        return (`<option value="${category}">${category}</option>`)
                    })
                    selmaincategories.innerHTML = categories.join("");
                    LoadSubCategories();
                })
            }

            
            function LoadSubCategories()
            {
                const categoryname = selmaincategories.options[selmaincategories.selectedIndex].value;
                const xhr = new XMLHttpRequest();
                xhr.open('GET', `@Url.Content("~/SellerProductCreate/getSubcategoryName?categoryname=")${categoryname}`);
                xhr.send();

                xhr.addEventListener('load', () => {
                    const datas = JSON.parse(xhr.responseText);
                    var subcategories = datas.map(subcatory => {
                        return (`<option value="${subcatory}">${subcatory}</option>`)
                    })
                    selsubcategories.innerHTML = subcategories.join("");
                })
            }


        LoadMainCategories();

        selmaincategories.addEventListener('change', () => {
            LoadSubCategories()
        })
    </script>
    }